{% extends 'app/base.html' %}
{% load static %}

{% block title %}Buyurtma Berish{% endblock %}


{% block css %}
    <link href="{% static 'provider/assets/plugins/datatable/css/dataTables.bootstrap4.min.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'provider/assets/plugins/datatable/css/buttons.bootstrap4.min.css' %}" rel="stylesheet" type="text/css">
    	<!-- loader-->
	<link rel="stylesheet" href="{% static 'provider/assets/css/pace.min.css' %}" />
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="{% static 'provider/assets/css/bootstrap.min.css' %}" />
	<!-- Icons CSS -->
	<link rel="stylesheet" href="{% static 'provider/assets/css/icons.css' %}" />
	<!-- App CSS -->
	<link rel="stylesheet" href="{% static 'provider/assets/css/app.css' %}" />
	<link rel="stylesheet" href="{% static 'provider/assets/css/table.css' %}" />
	<link href="{% static 'provider/assets/plugins/datatable/css/buttons.bootstrap4.min.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'provider/assets/plugins/datatable/css/buttons.bootstrap4.min.css' %}" rel="stylesheet" type="text/css">
{% endblock %}


{% block content %}
    <div class="page-breadcrumb d-none d-md-flex align-items-center mb-3">
						<div class="pl-3">
							<nav aria-label="breadcrumb">
								<ol class="breadcrumb mb-0 p-0">
									<li class="breadcrumb-item"><a href="javascript:;"><i class='bx bx-home-alt'></i></a>
									</li>
									<li class="breadcrumb-item active" aria-current="page">Buyurtma Berish</li>
								</ol>
							</nav>
						</div>
					</div>
    <!--end breadcrumb-->
    <div class="card">
        <div class="card-body">
            <div class="card-title card__title">
                <div class="divka">
                    <div class="input-group-prepend">
                        <button class="btn btn-light dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Filial</button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="#">1</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5</a>
                        </div>
                    </div>
                </div>
                <div class="divka">

                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-light" data-toggle="modal" data-target="#filialgabuyurtma">Filialga buyurtma</button>
                    <!-- Modal -->
                    <div class="modal fade" id="filialgabuyurtma" tabindex="-1" role="dialog" aria-hidden="true">
										<div class="modal-dialog modal-dialog-centered">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title">Buyurtma</h5>
													<button type="button" class="close" data-dismiss="modal" aria-label="Close">	<span aria-hidden="true">&times;</span>
													</button>
												</div>
												<div class="modal-body">
													<div class="form-group select2-sm">
														<h6>Buyurtma nomi</h6>
														<select class="form-control">
															<option value="Andijon">Andijon</option>
															<option value="Farg'ona">Farg'ona</option>
															<option value="Namangan">Namangan</option>
															<option value="Toshkent">Toshkent</option>
														</select>
													</div>
													<div class="form-group select2-sm">
														<h6>Yetkazib beruvchi</h6>
														<select class="form-control">
															<option value="1">1</option>
															<option value="2">2</option>
															<option value="3">3</option>
															<option value="4">4</option>
														</select>
													</div>
													<div class="form-group select2-sm">
														<h6>Filial nomi</h6>
														<select class="form-control">
															<option value="A">A</option>
															<option value="B">B</option>
															<option value="C">C</option>
															<option value="D">D</option>
														</select>
													</div>
													<div class="form-group">
														<h6>Buyurtma kelish vaqti</h6>
														<input type="text" class="form-control form-control-sm datepicker" placeholder="Sanani Belgiling"/>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-light" data-dismiss="modal">Bekor qilish</button>
													<button type="button" class="btn btn-light">Buyurtma Berish</button>
												</div>
											</div>
										</div>
									</div>
                </div>

            </div>
            <hr/>
            <div class="table-responsive">
                <table id="example" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th>â„–</th>
                            <th>Maxsulot nomi</th>
                            <th>Yetkazib beruvchi</th>
                            <th>Filial nomi</th>
                            <th>Kelish vaqti</th>
                            <th>Holati</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td><input checked type="checkbox"  disabled name="" id="custom-checkbox"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td><input type="checkbox" disabled name="" id="custom-checkbox"></td>
                        </tr>
                    </tbody>
                </table>
            </div><hr>
        </div>
    </div>
{% endblock %}


{% block js %}
    <script src="{% static 'provider/assets/plugins/datatable/js/jquery.dataTables.min.js' %}"></script>
	<script src="{% static 'provider/assets/plugins/edittable/bstable.js' %}"></script>
    <script>
		//Jami kelish narxi
		let values = document.querySelectorAll("[data-value='kelish']");
		let valuesSum = document.querySelector(".narxi");
		const numberFormat = new Intl.NumberFormat("en-GB")
		let sum = 0;
		for (let i =0; i < values.length; i++) {
			 sum += Number(values[i].innerHTML.replace(/[\s.,%]/g, ''))
		}
		valuesSum.innerHTML = numberFormat.format(sum);
		//Jami sotish narxi
		let values1 = document.querySelectorAll("[data-value='sotish']");
		let valuesSum1 = document.querySelector(".sotish_narxi");
		const numberFormat1 = new Intl.NumberFormat("en-GB")
		let sum1 = 0;
		for (let i =0; i < values.length; i++) {
			 sum1 += Number(values1[i].innerHTML.replace(/[\s.,%]/g, ''))
		}
		valuesSum1.innerHTML = numberFormat1.format(sum1)
  </script><script>
		$(document).ready(function () {
			//Default data table
			$('#example').DataTable();
		})
	</script>
	<script>
		$('.datepicker').pickadate({
			selectMonths: true,
	      selectYears: true
		}),
		$('.timepicker').pickatime()
	</script>
	<script>
		$('.single-select').select2({
			theme: 'bootstrap4',
			width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
			placeholder: $(this).data('placeholder'),
			allowClear: Boolean($(this).data('allow-clear')),
		});
	</script>

{% endblock %}